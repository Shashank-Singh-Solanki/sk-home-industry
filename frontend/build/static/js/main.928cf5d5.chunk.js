(this.webpackJsonpshoeshop=this.webpackJsonpshoeshop||[]).push([[0],{100:function(e,t,c){},103:function(e,t,c){"use strict";c.r(t);var s=c(1),r=c.n(s),a=c(16),n=c.n(a),i=(c(43),c(74),c(44),c(3)),o=c(13),l=c(6),d=c(4),j=c(5),u=c.n(j),b=c(9),m="USER_LOGIN_REQUEST",p="USER_LOGIN_SUCCESS",h="USER_LOGIN_FAIL",x="USER_LOGOUT",O="USER_REGISTER_REQUEST",f="USER_REGISTER_SUCCESS",g="USER_REGISTER_FAIL",v="USER_REGISTER_RESET",y="USER_DETAILS_REQUEST",N="USER_DETAILS_SUCCESS",w="USER_DETAILS_FAIL",E="USER_DETAILS_RESET",S="USER_UPDATE_PROFILE_REQUEST",C="USER_UPDATE_PROFILE_SUCCESS",A="USER_UPDATE_PROFILE_FAIL",P="USER_UPDATE_IMAGE_REQUEST",I="USER_UPDATE_IMAGE_SUCCESS",R="USER_UPDATE_IMAGE_FAIL",k="USER_EMAIL_RESET_PASSWORD_REQUEST",T="USER_EMAIL_RESET_PASSWORD_SUCCESS",D="USER_EMAIL_RESET_PASSWORD_FAIL",U="USER_EMAIL_RESET_PASSWORD_RESET",_="USER_PASSWORD_RESET_REQUEST",L="USER_PASSWORD_RESET_SUCCESS",F="USER_PASSWORD_RESET_FAIL",M=c(10),B=c.n(M),q="ORDER_CREATE_REQUEST",Q="ORDER_CREATE_SUCCESS",z="ORDER_CREATE_FAIL",Y="ORDER_CREATE_RESET",W="ORDER_DETAILS_REQUEST",G="ORDER_DETAILS_SUCCESS",V="ORDER_DETAILS_FAIL",J="ORDER_PAY_REQUEST",H="ORDER_PAY_SUCCESS",K="ORDER_PAY_FAIL",Z="ORDER_PAY_RESET",X="ORDER_LIST_MY_REQUEST",$="ORDER_LIST_MY_SUCCESS",ee="ORDER_LIST_MY_FAIL",te="ORDER_LIST_MY_RESET",ce="ORDER_CANCELLED_REQUEST",se="ORDER_CANCELLED_SUCCESS",re="ORDER_CANCELLED_FAIL",ae="ORDER_CANCELLED_RESET",ne=function(){return function(e){localStorage.removeItem("userInfo"),e({type:x}),e({type:E}),e({type:te})}},ie=function(e){return function(){var t=Object(b.a)(u.a.mark((function t(c,s){var r,a,n,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:y}),r=s(),a=r.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(a.token)}},t.next=6,B.a.get("/api/users/".concat(e),n);case 6:i=t.sent,o=i.data,c({type:N,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(ne()),c({type:w,payload:l});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,c){return t.apply(this,arguments)}}()},oe=c(25),le=c(0),de=function(){return Object(le.jsx)("div",{children:Object(le.jsx)(oe.a,{position:"top-right",hideProgressBar:!1,closeOnClick:!0,rtl:!1,autoClose:5e3,newestOnTop:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})})},je={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",toastId:"info"},ue=function(){var e=Object(s.useState)(),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(d.b)(),n=Object(o.g)(),j=Object(d.c)((function(e){return e.cart})).cartItems,u=Object(d.c)((function(e){return e.userLogin})).userInfo,b=function(){a(ne())},m=function(e){e.preventDefault(),c?c?n.push("/search/".concat(c.trim())):n.push("/"):oe.b.info("Enter Something To Search",je)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(de,{}),Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{className:"Announcement ",children:Object(le.jsx)("div",{className:"container",children:Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:" col-12 col-lg-12 r justify-content-center d-flex align-items-center",children:[Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-facebook-f"})}),Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-instagram"})}),Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-linkedin-in"})}),Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-youtube"})}),Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-pinterest-p"})})]})})})}),Object(le.jsx)("div",{className:"header",children:Object(le.jsxs)("div",{className:"container",children:[Object(le.jsx)("div",{className:"mobile-header",children:Object(le.jsx)("div",{className:"container ",children:Object(le.jsxs)("div",{className:"row ",children:[Object(le.jsx)("div",{className:"col-6 d-flex align-items-center",children:Object(le.jsx)(i.b,{className:"navbar-brand",to:"/",children:Object(le.jsx)("img",{alt:"logo",src:"/images/logo.png"})})}),Object(le.jsxs)("div",{className:"col-6 d-flex align-items-center justify-content-end Login-Register",children:[u?Object(le.jsxs)("div",{className:"btn-group",children:[Object(le.jsx)("button",{type:"button",className:"name-button dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(le.jsx)("i",{className:"fas fa-user"})}),Object(le.jsxs)("div",{className:"dropdown-menu",children:[Object(le.jsx)(i.b,{className:"dropdown-item",to:"/profile",children:"Profile"}),Object(le.jsx)(i.b,{className:"dropdown-item",to:"#",onClick:b,children:"Logout"}),Object(le.jsx)(i.b,{className:"dropdown-item",to:"/orders",children:"Orders"})]})]}):Object(le.jsxs)("div",{className:"btn-group",children:[Object(le.jsx)("button",{type:"button",className:"name-button dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(le.jsx)("i",{className:"fas fa-user"})}),Object(le.jsxs)("div",{className:"dropdown-menu",children:[Object(le.jsx)(i.b,{className:"dropdown-item",to:"/login",children:"Login"}),Object(le.jsx)(i.b,{className:"dropdown-item",to:"/register",children:"Register"})]})]}),Object(le.jsxs)(i.b,{to:"/cart",className:"cart-mobile-icon",children:[Object(le.jsx)("i",{className:"fas fa-shopping-bag"}),Object(le.jsx)("span",{className:"badge",children:j.length})]})]}),Object(le.jsx)("div",{className:"col-12 d-flex align-items-center",children:Object(le.jsxs)("form",{onSubmit:m,className:"input-group",children:[Object(le.jsx)("input",{type:"search",className:"form-control rounded search",placeholder:"Search",onChange:function(e){return r(e.target.value)}}),Object(le.jsx)("button",{type:"submit",className:"search-button",children:"search"})]})})]})})}),Object(le.jsx)("div",{className:"pc-header",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-md-3 col-4 d-flex align-items-center",children:Object(le.jsx)(i.b,{className:"navbar-brand",to:"/",children:Object(le.jsx)("img",{alt:"logo",src:"/images/logo.png"})})}),Object(le.jsx)("div",{className:"col-md-6 col-8 d-flex align-items-center",children:Object(le.jsxs)("form",{onSubmit:m,className:"input-group",children:[Object(le.jsx)("input",{type:"search",className:"form-control rounded search",placeholder:"Search",onChange:function(e){return r(e.target.value)}}),Object(le.jsx)("button",{type:"submit",className:"search-button",children:"search"})]})}),Object(le.jsxs)("div",{className:"col-md-3 d-flex align-items-center justify-content-end Login-Register",children:[u?Object(le.jsxs)("div",{className:"btn-group",children:[Object(le.jsxs)("button",{type:"button",className:"name-button dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Hi, ",u.name]}),Object(le.jsxs)("div",{className:"dropdown-menu",children:[Object(le.jsx)(i.b,{className:"dropdown-item",to:"/profile",children:"Profile"}),Object(le.jsx)(i.b,{className:"dropdown-item",to:"#",onClick:b,children:"Logout"}),Object(le.jsx)(i.b,{className:"dropdown-item",to:"/orders",children:"Orders"})]})]}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(i.b,{to:"/register",children:"Register"}),Object(le.jsx)(i.b,{to:"/login",children:"Login"})]}),Object(le.jsxs)(i.b,{to:"/cart",children:[Object(le.jsx)("i",{className:"fas fa-shopping-bag"}),Object(le.jsx)("span",{className:"badge",children:j.length})]})]})]})})]})})]})]})},be=function(e){var t=e.value,c=e.text;return Object(le.jsxs)("div",{className:"rating",children:[Object(le.jsx)("i",{className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"}),Object(le.jsx)("i",{className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"}),Object(le.jsx)("i",{className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"}),Object(le.jsx)("i",{className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"}),Object(le.jsx)("i",{className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"}),Object(le.jsx)("span",{children:c&&c})]})},me=c(14),pe=function(e){var t=e.page,c=e.pages,s=e.keyword,r=void 0===s?"":s;return c>1&&Object(le.jsx)("nav",{children:Object(le.jsx)("ul",{className:"pagination justify-content-center",children:Object(me.a)(Array(c).keys()).map((function(e){return Object(le.jsx)("li",{className:"page-item ".concat(e+1===t?"active":""),children:Object(le.jsx)(i.b,{className:"page-link",to:r?"/search/".concat(r,"/page/").concat(e+1):"/page/".concat(e+1),children:e+1})},e+1)}))})})},he="PRODUCT_LIST_REQUEST",xe="PRODUCT_LIST_SUCCESS",Oe="PRODUCT_LIST_FAIL",fe="PRODUCT_DETAILS_REQUEST",ge="PRODUCT_DETAILS_SUCCESS",ve="PRODUCT_DETAILS_FAIL",ye="PRODUCT_CREATE_REVIEW_REQUEST",Ne="PRODUCT_CREATE_REVIEW_SUCCESS",we="PRODUCT_CREATE_REVIEW_FAIL",Ee="PRODUCT_CREATE_REVIEW_RESET",Se="PRODUCT_DELETE_REVIEW_REQUEST",Ce="PRODUCT_DELETE_REVIEW_SUCCESS",Ae="PRODUCT_DELETE_REVIEW_FAIL",Pe="PRODUCT_DELETE_REVIEW_RESET",Ie=function(){return Object(le.jsx)("div",{className:"d-flex justify-content-center",children:Object(le.jsx)("div",{className:"spinner-border text-success",role:"status",style:{width:"50px",height:"50px"},children:Object(le.jsx)("span",{className:"sr-only",children:"Loading..."})})})},Re=function(e){var t=e.variant,c=e.children;return Object(le.jsx)("div",{className:"alert ".concat(t),children:c})};Re.defaultProps={variant:"alert-info"};var ke=Re,Te=function(){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"container my-5",children:Object(le.jsxs)("div",{className:"row justify-content-center align-items-center",children:[Object(le.jsx)("h4",{className:"text-center mb-2 mb-sm-5",children:"!No Result found"}),Object(le.jsx)("img",{style:{width:"100%",height:"300px",objectFit:"contain"},src:"/images/empty.png",alt:"Not-found"}),Object(le.jsx)("button",{className:" hom_button col-md-3 col-sm-6 col-12 btn mt-5",children:Object(le.jsx)(i.b,{to:"/",className:"hom_button",children:"Home page"})})]})})})},De=function(e){var t=e.keyword,c=e.pagenumber,r=Object(d.b)(),a=Object(d.c)((function(e){return e.productList})),n=a.loading,o=a.error,l=a.products,j=a.page,m=a.pages;return Object(s.useEffect)((function(){r(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return function(){var c=Object(b.a)(u.a.mark((function c(s){var r,a;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:he}),c.next=4,B.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:r=c.sent,a=r.data,s({type:xe,payload:a}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),s({type:Oe,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(t,c))}),[r,t,c]),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"container",children:Object(le.jsx)("div",{className:"section",children:Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"col-lg-12 col-md-12 article",children:Object(le.jsxs)("div",{className:"shopcontainer row",children:[n?Object(le.jsx)("div",{className:"mb-5",children:Object(le.jsx)(Ie,{})}):o?Object(le.jsx)(ke,{variant:"alert-danger",children:o}):0===l.length?Object(le.jsx)(Te,{}):l.map((function(e){return Object(le.jsx)("div",{className:"shop col-lg-4 col-md-6 col-sm-6",children:Object(le.jsxs)("div",{className:"border-product",children:[Object(le.jsx)(i.b,{to:"/products/".concat(e._id),children:Object(le.jsx)("div",{className:"shopBack",children:Object(le.jsx)("img",{src:e.image,alt:e.name})})}),Object(le.jsxs)("div",{className:"shoptext",children:[Object(le.jsx)("p",{children:Object(le.jsx)(i.b,{to:"/products/".concat(e._id),children:e.name})}),Object(le.jsx)(be,{value:e.rating,text:"".concat(e.numReviews," reviews")}),Object(le.jsxs)("h3",{children:["\u20b9",e.price]})]})]})},e._id)})),Object(le.jsx)(pe,{pages:m,page:j,keyword:t||""})]})})})})})})},Ue=function(){return Object(le.jsx)("div",{className:"contactInfo container",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-12 col-md-4 contact-Box",children:Object(le.jsxs)("div",{className:"box-info",children:[Object(le.jsx)("div",{className:"info-image",children:Object(le.jsx)("i",{className:"fas fa-phone-alt"})}),Object(le.jsx)("h5",{children:"Call Us 24x7"}),Object(le.jsx)("p",{children:"8494090499"})]})}),Object(le.jsx)("div",{className:"col-12 col-md-4 contact-Box",children:Object(le.jsxs)("div",{className:"box-info",children:[Object(le.jsx)("div",{className:"info-image",children:Object(le.jsx)("i",{className:"fas fa-map-marker-alt"})}),Object(le.jsx)("h5",{children:"Headquarter"}),Object(le.jsx)("p",{children:"Bina-Etawa, Sagar, Madhya Pradesh"})]})}),Object(le.jsx)("div",{className:"col-12 col-md-4 contact-Box",children:Object(le.jsxs)("div",{className:"box-info",children:[Object(le.jsx)("div",{className:"info-image",children:Object(le.jsx)("i",{className:"fas fa-fax"})}),Object(le.jsx)("h5",{children:"GST Number"}),Object(le.jsx)("p",{children:"23ANSPJ4316P1ZJ"})]})})]})})},_e=function(){return Object(le.jsx)("div",{className:"subscribe-section bg-with-black",children:Object(le.jsx)("div",{className:"container",children:Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"col-xs-12",children:Object(le.jsxs)("div",{className:"subscribe-head",children:[Object(le.jsx)("h2",{children:"DO you need more Offer?"}),Object(le.jsx)("p",{children:"Subscribe and get latest Cuppon along with the latest Offer."}),Object(le.jsxs)("form",{className:"form-section",children:[Object(le.jsx)("input",{placeholder:"Your Email...",name:"email",type:"email"}),Object(le.jsx)("input",{value:"Subscribe",name:"subscribe",type:"submit"})]})]})})})})})},Le=(c(100),function(){return Object(le.jsx)("div",{className:"footer",children:Object(le.jsxs)("div",{className:"justify-content-center d-flex data",children:[Object(le.jsxs)("div",{className:"_1info",style:{flex:"6"},children:[Object(le.jsx)("h1",{className:"h",children:"About us"}),Object(le.jsx)("p",{className:"pra",children:"adfadfadf Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aspernatur praesentium vitae, cum vero nesciunt voluptates, ipsa optio, nostrum porro maiores accusamus magnam aperiam magni quis iusto illum. Dolores quis obcaecati cupiditate maxime, blanditiis quisquam voluptate fugiat deleniti? Accusamus ad nulla voluptatem quis. Voluptatum, incidunt nemo."})]}),Object(le.jsxs)("div",{className:"_2contact",style:{flex:"3"},children:[Object(le.jsx)("h1",{className:"h",children:"Contact Us"}),Object(le.jsxs)("ul",{children:[Object(le.jsx)("li",{children:Object(le.jsx)("a",{href:"tel:8494090499",children:"+91 8494090499"})}),Object(le.jsx)("li",{children:Object(le.jsx)("a",{href:"mailto:shashanksinghsolanki1@gmail.com",children:"shashanksinghsolanki1@gmail.com"})})]}),Object(le.jsxs)("div",{className:"justify-content-center d-flex",children:[Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-facebook-f",style:{padding:"30px",color:"black"}})}),Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-instagram",style:{padding:"30px",color:"black"}})}),Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-linkedin-in",style:{padding:"30px",color:"black"}})}),Object(le.jsx)(i.b,{to:"",children:Object(le.jsx)("i",{className:" col fab fa-youtube",style:{padding:"30px",color:"black"}})})]})]})]})})}),Fe=function(e){var t=e.match;window.scrollTo(0,0);var c=t.params.keyword,s=t.params.pagenumber;return Object(le.jsxs)("div",{children:[Object(le.jsx)(ue,{}),Object(le.jsx)(De,{keyword:c,pagenumber:s}),Object(le.jsx)(_e,{}),Object(le.jsx)(Ue,{}),Object(le.jsx)(Le,{})]})},Me=c(20),Be=c.n(Me),qe=function(e){var t=e.history,c=e.match,r=Object(s.useState)(1),a=Object(l.a)(r,2),n=a[0],o=a[1],j=Object(s.useState)(0),m=Object(l.a)(j,2),p=m[0],h=m[1],x=Object(s.useState)(""),O=Object(l.a)(x,2),f=O[0],g=O[1],v=0,y=localStorage.getItem("userInfo"),N=JSON.parse(y);N&&(v=N._id);var w=c.params.id,E=Object(d.b)(),S=Object(d.c)((function(e){return e.productDetails})),C=S.loading,A=S.error,P=S.product,I=Object(d.c)((function(e){return e.userLogin})).userInfo,R=Object(d.c)((function(e){return e.productReviewCreate}));console.log(S);var k=R.loading,T=R.error,D=R.success,U=Object(d.c)((function(e){return e.productReviewDelete})),_=(U.loading,U.error,U.success),L=0,F=P.reviews.map((function(e){return e.rating})).reduce((function(e,t){return e+t}),0)/P.reviews.length;Object(s.useEffect)((function(){var e;h(0),g(""),E({type:Pe}),E({type:Ee}),E((e=w,function(){var t=Object(b.a)(u.a.mark((function t(c){var s,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:fe}),t.next=4,B.a.get("/api/products/".concat(e));case 4:s=t.sent,r=s.data,c({type:ge,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ve,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[E,w,D,L,_]);var M=function(){console.log(L),L++,console.log(L),E(function(e,t){return function(){var t=Object(b.a)(u.a.mark((function t(c,s){var r,a,n,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Se}),r=s(),a=r.userLogin.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},console.log(a.token),t.next=7,B.a.delete("/api/products/".concat(e,"/").concat(a._id,"/reviewdelete"),n);case 7:c({type:Ce}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(ne()),c({type:Ae,payload:i});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()}(w))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsx)("div",{className:"container single-product",children:C?Object(le.jsx)(Ie,{}):A?Object(le.jsx)(ke,{variant:"alert-danger",children:A}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-md-6",children:Object(le.jsx)("div",{className:"single-image",children:Object(le.jsx)("img",{src:P.image,alt:P.name})})}),Object(le.jsx)("div",{className:"col-md-6",children:Object(le.jsxs)("div",{className:"product-dtl",children:[Object(le.jsx)("div",{className:"product-info",children:Object(le.jsx)("div",{className:"product-name",children:P.name})}),Object(le.jsx)("p",{children:P.description}),Object(le.jsxs)("div",{className:"product-count col-lg-7 ",children:[Object(le.jsxs)("div",{className:"flex-box d-flex justify-content-between align-items-center",children:[Object(le.jsx)("h6",{children:"Price"}),Object(le.jsxs)("span",{children:["\u20b9",P.price]})]}),Object(le.jsxs)("div",{className:"flex-box d-flex justify-content-between align-items-center",children:[Object(le.jsx)("h6",{children:"Status"}),P.countInStock>10?Object(le.jsx)("span",{children:"In Stock"}):P.countInStock>0&&P.countInStock<=10?Object(le.jsxs)("span",{children:["Only ",Object(le.jsx)("span",{class:"outOfStockMessage",children:P.countInStock})," Left in Stock"]}):Object(le.jsx)("span",{class:"outOfStockMessage",children:"Unavailable"})]}),Object(le.jsxs)("div",{className:"flex-box d-flex justify-content-between align-items-center",children:[Object(le.jsx)("h6",{children:"Reviews"}),Object(le.jsx)(be,{value:F,text:"".concat(P.reviews.length," reviews")})]}),P.countInStock>0?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)("div",{className:"flex-box d-flex justify-content-between align-items-center",children:[Object(le.jsx)("h6",{children:"Quantity"}),Object(le.jsx)("select",{value:n,onChange:function(e){return o(e.target.value)},children:Object(me.a)(Array(P.countInStock).keys()).map((function(e){return Object(le.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(le.jsx)("button",{onClick:function(e){e.preventDefault(),t.push("/cart/".concat(w,"?qty=").concat(n))},className:"round-black-btn",children:"Add To Cart"})]}):null]})]})})]}),Object(le.jsxs)("div",{className:"row my-5",children:[Object(le.jsxs)("div",{className:"col-md-6",children:[Object(le.jsx)("h6",{className:"mb-3",children:"REVIEWS"}),0===P.reviews.length&&Object(le.jsx)(ke,{variant:"alert-info mt-3",children:"No Reviews"}),P.reviews.map((function(e){return Object(le.jsxs)("div",{className:"mb-5 mb-md-3 bg-light p-3 shadow-sm rounded",children:[e.user===v?Object(le.jsx)("div",{className:" review order_box",children:Object(le.jsx)("div",{onClick:M,className:"cancle-button d-flex justify-content-center align-items-center",children:Object(le.jsx)("i",{className:"fas fa-minus"})})}):Object(le.jsx)(le.Fragment,{}),Object(le.jsx)("strong",{children:e.name}),Object(le.jsx)(be,{value:e.rating}),Object(le.jsx)("span",{children:Be()(e.createdAt).calendar()}),Object(le.jsx)("div",{className:"alert alert-info mt-3",children:e.comment})]},e._id)}))]}),Object(le.jsxs)("div",{className:"col-md-6",children:[Object(le.jsx)("h6",{children:"WRITE A CUSTOMER REVIEW"}),Object(le.jsxs)("div",{className:"my-4",children:[k&&Object(le.jsx)(Ie,{}),T&&Object(le.jsx)(ke,{variant:"alert-danger",children:T})]}),I?Object(le.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==f&&"0"!==p&&E(function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(s,r){var a,n,i,o;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:ye}),a=r(),n=a.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},c.next=6,B.a.post("/api/products/".concat(e,"/review"),t,i);case 6:s({type:Ne}),c.next=14;break;case 9:c.prev=9,c.t0=c.catch(0),"Not authorized, token failed"===(o=c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message)&&s(ne()),s({type:we,payload:o});case 14:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e,t){return c.apply(this,arguments)}}()}(w,{rating:p,comment:f}))},children:[Object(le.jsxs)("div",{className:"my-4",children:[Object(le.jsx)("strong",{children:"Rating"}),Object(le.jsxs)("select",{value:p,onChange:function(e){return h(e.target.value)},className:"col-12 bg-light p-3 mt-2 border-0 rounded",children:[Object(le.jsx)("option",{value:"",children:"Select..."}),Object(le.jsx)("option",{value:"1",children:"1 - Poor"}),Object(le.jsx)("option",{value:"2",children:"2 - Fair"}),Object(le.jsx)("option",{value:"3",children:"3 - Good"}),Object(le.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(le.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(le.jsxs)("div",{className:"my-4",children:[Object(le.jsx)("strong",{children:"Comment"}),Object(le.jsx)("textarea",{row:"3",value:f,onChange:function(e){return g(e.target.value)},className:"col-12 bg-light p-3 mt-2 border-0 rounded"})]}),Object(le.jsx)("div",{className:"my-3",children:Object(le.jsx)("button",{disabled:k,className:"col-12 bg-black border-0 p-3 rounded text-white",children:"SUBMIT"})})]}):Object(le.jsx)("div",{className:"my-3",children:Object(le.jsxs)(ke,{variant:"alert-warning",children:["Please"," ",Object(le.jsxs)(i.b,{to:"/login",children:['" ',Object(le.jsx)("strong",{children:"Login"}),' "']})," ","to write a review"," "]})})]})]})]})})]})},Qe=c(24),ze=c(12),Ye=ze.a({name:ze.c().min(2).max(25).required("Please enter your Username"),email:ze.c().email().required("Please enter your E-mail"),password:ze.c().required("Please enter your Password"),number:ze.c().min(10).max(10).required("Please enter your Number. Ex: 9898989898"),confirm:ze.c().required().oneOf([ze.b("password"),null],"Password must match")}),We=ze.a({email:ze.c().email().required("Please enter your E-mail"),password:ze.c().required("Please enter your Password")}),Ge=ze.a({email:ze.c().email().required("Please enter your E-mail")}),Ve=ze.a({password:ze.c().required("Please Enter Your New Password"),confirmPassword:ze.c().required().oneOf([ze.b("password"),null],"Password must match")}),Je=ze.a({address:ze.c().min(5).required("Please enter your Shipping Adress"),postalCode:ze.c().min(2).required("please enter your Postalcode"),city:ze.c().min(2).required("Please enter your Shipping city"),country:ze.c().min(2).required("Please enter your Shipping country")}),He=function(e){var t=e.location,c=e.history,r=Object(s.useState)("4px solid white"),a=Object(l.a)(r,2),n=a[0],j=a[1],O=Object(s.useState)("4px solid white"),f=Object(l.a)(O,2),g=f[0],v=f[1],y={color:"#c03f10",backgroundColor:"white",display:"inline-block",borderBottom:g,width:"100%",height:"50px",transition:"all 0.4s"},N={color:"#c03f10",backgroundColor:"white",display:"inline-block",borderBottom:n,width:"100%",height:"50px",transition:"all 0.4s"},w=Object(Qe.a)({initialValues:{email:"",password:""},validationSchema:We,onSubmit:function(e,t){L(e,t)}}),E=w.values,S=w.errors,C=w.handleBlur,A=w.handleChange,P=w.handleSubmit,I=Object(o.h)().pathname,R=Object(d.b)(),k=t.search?t.search.split("=")[1]:"/",T=Object(d.c)((function(e){return e.userLogin})),D=T.error,U=T.loading,_=T.userInfo;Object(s.useEffect)((function(){_&&c.push(k);var e=setTimeout((function(){D&&R({type:x})}),5e3);return function(){return clearTimeout(e)}}),[_,c,k,D]);var L=function(e){var t=e.email,c=e.password;console.log(t,c),R(function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(s){var r,a,n;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:m}),r={headers:{"Content-Type":"application/json"}},c.next=5,B.a.post("/api/users/login",{email:e,password:t},r);case 5:a=c.sent,n=a.data,s({type:p,payload:n}),localStorage.setItem("userInfo",JSON.stringify(n)),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),s({type:h,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e){return c.apply(this,arguments)}}()}(t,c))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsxs)("div",{className:"container d-flex flex-column justify-content-center align-items-center login-center",children:[D&&Object(le.jsx)(ke,{variant:"alert-danger",children:D}),U&&Object(le.jsx)(Ie,{}),Object(le.jsxs)("form",{className:"Login col-md-8 col-lg-4 col-11",children:[Object(le.jsxs)("div",{className:"d-flex flex-row",children:[Object(le.jsx)(i.b,{style:y,onMouseOver:function(){j("2px solid white"),"/login"===I?j("2px solid #FF7F50"):v("2px solid white")},to:k?"/register?redirect=".concat(k):"/register",children:"Register"}),Object(le.jsx)(i.b,{style:N,onMouseOver:function(){v("2px solid white"),"/login"===I?j("2px solid #FF7F50"):v("2px solid white")},to:k?"/login?redirect=".concat(k):"/login",children:"Login"})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"email",placeholder:"Email",id:"email",name:"email",value:E.email,onChange:A,onBlur:C}),Object(le.jsx)("p",{className:"from-error",children:S.email})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"password",placeholder:"Password",id:"password",name:"password",value:E.password,onChange:A,onBlur:C}),Object(le.jsx)("p",{className:"from-error",children:S.password})]}),Object(le.jsx)("button",{type:"button",onClick:P,children:"Login"}),Object(le.jsx)("p",{children:Object(le.jsx)(i.b,{to:k?"/register?redirect=".concat(k):"/register",children:"Create Account"})}),Object(le.jsx)("p",{children:Object(le.jsx)(i.b,{to:k?"/resetPasswordEmail?redirect=".concat(k):"/resetPasswordEmail",children:"Forget Password"})})]})]})]})},Ke=function(e){var t=e.location,c=(e.history,Object(s.useState)("4px solid white")),r=Object(l.a)(c,2),a=r[0],n=r[1],j=Object(s.useState)("4px solid white"),m=Object(l.a)(j,2),p=m[0],h=m[1],x={color:"#c03f10",backgroundColor:"white",display:"inline-block",borderBottom:p,width:"100%",height:"50px",transition:"all 0.4s"},y={color:"#c03f10",backgroundColor:"white",display:"inline-block",borderBottom:a,width:"100%",height:"50px",transition:"all 0.4s"},N=Object(Qe.a)({initialValues:{name:"",email:"",number:"",password:"",confirm:""},validationSchema:Ye,onSubmit:function(e){var t=e.name,c=e.email,s=e.password,r=e.number;M(t,c,s,r)}}),w=N.values,E=N.errors,S=N.handleBlur,C=N.handleChange,A=N.handleSubmit,P=Object(o.h)().pathname,I=Object(d.b)(),R=t.search?t.search.split("=")[1]:"/",k=Object(d.c)((function(e){return e.userRegister})),T=k.error,D=k.loading,U=k.userInfo,_=Object(s.useState)(""),L=Object(l.a)(_,2),F=(L[0],L[1]);Object(s.useEffect)((function(){T&&F("");var e=setTimeout((function(){U&&U.message&&I({type:v})}),5e3);return function(){return clearTimeout(e)}}),[U,T]);var M=function(e,t,c,s){I(function(e,t,c,s){return function(){var r=Object(b.a)(u.a.mark((function r(a){var n,i,o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:O}),n={headers:{"Content-Type":"application/json"}},r.next=5,B.a.post("/api/users",{name:e,email:t,password:c,number:s},n);case 5:i=r.sent,o=i.data,a({type:f,payload:o}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),a({type:g,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()}(e,t,c,s)),void 0===T&&U&&F("Email Sent For Verification")};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsxs)("div",{className:"container d-flex flex-column justify-content-center align-items-center login-center",children:[T&&Object(le.jsx)(ke,{variant:"alert-danger",children:T}),U&&Object(le.jsx)(ke,{variant:"alert-success",children:U.message}),D&&Object(le.jsx)(Ie,{}),Object(le.jsxs)("form",{className:"Login col-md-8 col-lg-4 col-11",onSubmit:A,children:[Object(le.jsxs)("div",{className:"d-flex flex-row",children:[Object(le.jsx)(i.b,{style:x,onMouseOver:function(){n("2px solid white"),h("/register"===P?"2px solid #FF7F50":"2px solid white")},to:R?"/register?redirect=".concat(R):"/register",children:"Register"}),Object(le.jsx)(i.b,{style:y,onMouseOver:function(){h("2px solid white"),h("/register"===P?"2px solid #FF7F50":"2px solid white")},to:R?"/login?redirect=".concat(R):"/login",children:"Login"})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"text",placeholder:"Username",id:"name",name:"name",value:w.name,onChange:C,onBlur:S}),Object(le.jsx)("p",{className:"from-error",children:E.name})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"email",placeholder:"Email",id:"email",name:"email",value:w.email,onChange:C,onBlur:S}),Object(le.jsx)("p",{className:"from-error",children:E.email})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"number",placeholder:"Contact no",id:"number",name:"number",value:w.number,onChange:C,onBlur:S}),Object(le.jsx)("p",{className:"from-error",children:E.number})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"password",placeholder:"Password",id:"password",name:"password",value:w.password,onChange:C,onBlur:S}),Object(le.jsx)("p",{className:"from-error",children:E.password})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"password",placeholder:"Comfirm Password",id:"confirm",name:"confirm",value:w.confirm,onChange:C,onBlur:S}),Object(le.jsx)("p",{className:"from-error",children:E.confirm})]}),Object(le.jsx)("button",{type:"submit",children:"Register"}),Object(le.jsx)("p",{children:Object(le.jsxs)(i.b,{to:R?"/login?redirect=".concat(R):"/login",children:["I Have Account ",Object(le.jsx)("strong",{children:"Login"})]})})]})]})]})},Ze="CART_ADD_ITEM",Xe="CART_REMOVE_ITEM",$e="CART_CLEAR_ITEMS",et="CART_SAVE_SHIPPING_ADDRESS",tt="CART_SAVE_PAYMENT_METHOD",ct=function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(s,r){var a,n;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,B.a.get("/api/products/".concat(e));case 2:a=c.sent,n=a.data,s({type:Ze,payload:{product:n._id,name:n.name,image:n.image,price:n.price,countInStock:n.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},st=function(e){var t=e.match,c=e.location,r=e.history;window.scrollTo(0,0);var a=Object(d.b)(),n=t.params.id,o=c.search?Number(c.search.split("=")[1]):1,l=Object(d.c)((function(e){return e.cart})).cartItems,j=l.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2);Object(s.useEffect)((function(){n&&a(ct(n,o))}),[a,n,o]);var u=function(e){a(function(e){return function(t,c){t({type:Xe,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsx)("div",{className:"container",children:0===l.length?Object(le.jsxs)("div",{className:" alert alert-info text-center mt-3",children:["Your cart is empty",Object(le.jsx)(i.b,{className:"btn btn-success mx-5 px-5 py-3",to:"/",style:{fontSize:"12px"},children:"SHOPPING NOW"})]}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)("div",{className:" alert alert-info text-center mt-3",children:["Total Cart Products",Object(le.jsxs)(i.b,{className:"text-success mx-2",to:"/cart",children:["(",l.length,")"]})]}),l.map((function(e){return Object(le.jsxs)("div",{className:"cart-iterm row",children:[Object(le.jsxs)("div",{onClick:function(){return u(e.product)},className:"remove-button d-flex justify-content-center align-items-center",children:[Object(le.jsx)("i",{className:"fas fa-times"}),Object(le.jsx)("span",{class:"remove-button-text",children:"Remove Item"})]}),Object(le.jsx)("div",{className:"cart-image col-md-3",children:Object(le.jsx)("img",{src:e.image,alt:e.name})}),Object(le.jsx)("div",{className:"cart-text col-md-5 d-flex align-items-center",children:Object(le.jsx)(i.b,{to:"/products/".concat(e.product),children:Object(le.jsx)("h4",{children:e.name})})}),Object(le.jsxs)("div",{className:"cart-qty col-md-2 col-sm-5 mt-md-5 mt-3 mt-md-0 d-flex flex-column justify-content-center",children:[Object(le.jsx)("h6",{children:"QUANTITY"}),Object(le.jsx)("select",{value:e.qty,onChange:function(t){return a(ct(e.product,Number(t.target.value)))},children:Object(me.a)(Array(e.countInStock).keys()).map((function(e){return Object(le.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(le.jsxs)("div",{className:"cart-price mt-3 mt-md-0 col-md-2 align-items-sm-end align-items-start  d-flex flex-column justify-content-center col-sm-7",children:[Object(le.jsx)("h6",{children:"PRICE"}),Object(le.jsxs)("h4",{children:["\u20b9",e.price]})]})]})})),Object(le.jsxs)("div",{className:"total",children:[Object(le.jsx)("span",{className:"sub",children:"total:"}),Object(le.jsxs)("span",{className:"total-price",children:["\u20b9",j]})]}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"cart-buttons d-flex align-items-center row",children:[Object(le.jsx)(i.b,{to:"/",className:"col-md-6 ",children:Object(le.jsx)("button",{children:"Continue To Shopping"})}),j>0&&Object(le.jsx)("div",{className:"col-md-6 d-flex justify-content-md-end mt-3 mt-md-0",children:Object(le.jsx)("button",{onClick:function(){r.push("/login?redirect=shipping")},children:"Checkout"})})]})]})})]})},rt=function(e){var t=e.history;window.scrollTo(0,0);var c=Object(d.c)((function(e){return e.cart})).shippingAddress,s={city:c.address,address:c.city,postalCode:c.postalCode,country:c.country},r=Object(Qe.a)({initialValues:s,validationSchema:Je,onSubmit:function(e){var t=e.city,c=e.address,s=e.postalCode,r=e.country;u(t,c,s,r)}}),a=r.values,n=r.errors,i=r.handleBlur,o=r.handleChange,l=r.handleSubmit,j=Object(d.b)(),u=function(e,c,s,r){var a;j((a={address:c,city:e,postalCode:s,country:r},function(e){e({type:et,payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a))})),t.push("/payment")};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsx)("div",{className:"container d-flex justify-content-center align-items-center login-center",children:Object(le.jsxs)("form",{className:"Login col-md-8 col-lg-4 col-11",children:[Object(le.jsx)("h6",{children:"DELIVERY ADDRESS"}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"text",placeholder:"Enter address",name:"address",id:"addresss",value:a.address,onChange:o,onBlur:i}),Object(le.jsx)("p",{className:"from-error",children:n.address})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"text",placeholder:"Enter City",name:"city",id:"city",value:a.city,onChange:o,onBlur:i}),Object(le.jsx)("p",{className:"from-error",children:n.city})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"text",placeholder:"Enter Postal-code",name:"postalCode",id:"postalCode",value:a.postalCode,onChange:o,onBlur:i}),Object(le.jsx)("p",{className:"from-error",children:n.postalCode})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"text",placeholder:"Enter Country",name:"country",id:"country",value:a.country,onChange:o,onBlur:i}),Object(le.jsx)("p",{className:"from-error",children:n.country})]}),Object(le.jsx)("button",{type:"button",onClick:l,children:"Continue"})]})})]})},at=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(""),i=Object(l.a)(n,2),o=i[0],j=i[1],m=Object(s.useState)(""),h=Object(l.a)(m,2),x=h[0],O=h[1],f=Object(s.useState)(""),g=Object(l.a)(f,2),v=g[0],y=g[1],N=Object(s.useState)(""),w=Object(l.a)(N,2),E=w[0],P=w[1],I=r.a.useRef(null),R={pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1,autoClose:5e3},k=Object(d.b)(),T=Object(d.c)((function(e){return e.userDetails})),D=T.loading,U=T.error,_=T.user,L=Object(d.c)((function(e){return e.userUpdateProfile})).loading;Object(s.useEffect)((function(){_&&(a(_.name),j(_.email),y(_.number))}),[k,_]);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(de,{}),U&&Object(le.jsx)(ke,{variant:"alert-danger",children:U}),D&&Object(le.jsx)(Ie,{}),L&&Object(le.jsx)(Ie,{}),Object(le.jsxs)("form",{className:"row  form-container",onSubmit:function(e){e.preventDefault(),x!==E?oe.b.isActive(I.current)||(I.current=oe.b.error("Password does not match",R)):(k(function(e){return function(){var t=Object(b.a)(u.a.mark((function t(c,s){var r,a,n,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:S}),r=s(),a=r.userLogin.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,B.a.put("/api/users/profile",e,n);case 6:i=t.sent,o=i.data,c({type:C,payload:o}),c({type:p,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(ne()),c({type:A,payload:l});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,c){return t.apply(this,arguments)}}()}({id:_._id,name:c,email:o,password:x,number:v})),oe.b.isActive(I.current)||(I.current=oe.b.success("Profile Updated",R)))},children:[Object(le.jsx)("div",{className:"col-md-6",children:Object(le.jsxs)("div",{className:"form",children:[Object(le.jsx)("label",{for:"account-fn",children:"UserName"}),Object(le.jsx)("input",{className:"form-control",type:"text",required:!0,value:c,onChange:function(e){return a(e.target.value)}})]})}),Object(le.jsx)("div",{className:"col-md-6",children:Object(le.jsxs)("div",{className:"form",children:[Object(le.jsx)("label",{for:"account-email",children:"E-mail Address"}),Object(le.jsx)("input",{className:"form-control",type:"email",value:o,required:!0,disabled:!0,onChange:function(e){return j(e.target.value)}})]})}),Object(le.jsx)("div",{className:"col-md-6",children:Object(le.jsxs)("div",{className:"form",children:[Object(le.jsx)("label",{for:"account-confirm-pass",children:"Number"}),Object(le.jsx)("input",{className:"form-control",type:"number",value:v,onChange:function(e){return y(e.target.value)}})]})}),Object(le.jsx)("div",{className:"col-md-6"}),Object(le.jsx)("div",{className:"col-md-6",children:Object(le.jsxs)("div",{className:"form",children:[Object(le.jsx)("label",{for:"account-pass",children:"New Password"}),Object(le.jsx)("input",{className:"form-control",type:"password",value:x,onChange:function(e){return O(e.target.value)}})]})}),Object(le.jsx)("div",{className:"col-md-6",children:Object(le.jsxs)("div",{className:"form",children:[Object(le.jsx)("label",{for:"account-confirm-pass",children:"Confirm Password"}),Object(le.jsx)("input",{className:"form-control",type:"password",value:E,onChange:function(e){return P(e.target.value)}})]})}),Object(le.jsx)("button",{type:"submit",children:"Update Profile"})]})]})},nt=function(e){var t=e.loading,c=e.error,s=e.orders;return Object(le.jsx)("div",{className:" d-flex justify-content-center align-items-center flex-column",children:t?Object(le.jsx)(Ie,{}):c?Object(le.jsx)(ke,{variant:"alert-danger",children:c}):Object(le.jsx)(le.Fragment,{children:0===s.length?Object(le.jsxs)("div",{className:"col-12 alert alert-info text-center mt-3",children:["No Orders",Object(le.jsx)(i.b,{className:"btn btn-success mx-2 px-3 py-2",to:"/",style:{fontSize:"12px"},children:"START SHOPPING"})]}):Object(le.jsx)("div",{className:"table-responsive",children:Object(le.jsxs)("table",{className:"table",children:[Object(le.jsx)("thead",{children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"ID"}),Object(le.jsx)("th",{children:"STATUS"}),Object(le.jsx)("th",{children:"DATE"}),Object(le.jsx)("th",{children:"TOTAL"})]})}),Object(le.jsx)("tbody",{children:s.map((function(e){return Object(le.jsxs)("tr",{className:"".concat(e.isPaid?"alert-success":"alert-danger"),children:[Object(le.jsx)("td",{children:Object(le.jsx)("a",{href:"/order/".concat(e._id),className:"link",children:e._id})}),Object(le.jsx)("td",{children:e.isPaid?Object(le.jsx)(le.Fragment,{children:"Paid"}):Object(le.jsx)(le.Fragment,{children:"Not Paid"})}),Object(le.jsx)("td",{children:e.isPaid?Be()(e.paidAt).calendar():Be()(e.createdAt).calendar()}),Object(le.jsxs)("td",{children:["$",e.totalPrice]})]},e._id)}))})]})})})})},it=function(e){return function(){var t=Object(b.a)(u.a.mark((function t(c,s){var r,a,n,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:W}),r=s(),a=r.userLogin.userInfo,n={headers:{Authorization:"Bearer ".concat(a.token)}},t.next=6,B.a.get("/api/orders/".concat(e),n);case 6:i=t.sent,o=i.data,c({type:G,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(ne()),c({type:V,payload:l});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,c){return t.apply(this,arguments)}}()},ot=function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(s,r){var a,n,i,o,l,d;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:J}),a=r(),n=a.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},c.next=6,B.a.put("/api/orders/".concat(e,"/pay"),t,i);case 6:o=c.sent,l=o.data,s({type:H,payload:l}),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(0),"Not authorized, token failed"===(d=c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message)&&s(ne()),s({type:K,payload:d});case 16:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()},lt=function(){return function(){var e=Object(b.a)(u.a.mark((function e(t,c){var s,r,a,n,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:X}),s=c(),r=s.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,B.a.get("/api/orders/",a);case 6:n=e.sent,i=n.data,t({type:$,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(ne()),t({type:ee,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}()},dt=function(e){var t=e.childToParent,c=(e.id,Object(s.useRef)()),r=Object(s.useRef)();return Object(s.useEffect)((function(){c.current=window.cloudinary,r.current=c.current.createUploadWidget({cloudName:"dqgo5axpw",uploadPreset:"skHomeIndustryUsers",maxFiles:1},(function(e,c){!e&&c&&"success"===c.event&&(console.log("Done! Here is the image info: ",c.info.secure_url),t(c.info.secure_url))}))}),[]),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("i",{onClick:function(){return r.current.open()},className:"uploadCamera fad fa-camera"})})},jt=function(){window.scrollTo(0,0);var e=Object(d.b)(),t=Object(d.c)((function(e){return e.userLogin})).userInfo,c=Object(d.c)((function(e){return e.orderListMy})),r=c.loading,a=c.error,n=c.orders;Object(s.useEffect)((function(){e(lt()),e(ie("profile"))}),[e]);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsx)("div",{className:"container mt-lg-5 mt-3",children:Object(le.jsxs)("div",{className:"row align-items-start",children:[Object(le.jsxs)("div",{className:"col-lg-4 p-0 shadow ",children:[Object(le.jsxs)("div",{className:"author-card pb-0 pb-md-3",children:[Object(le.jsx)("div",{className:"author-card-cover"}),Object(le.jsxs)("div",{className:"author-card-profile row",children:[Object(le.jsxs)("div",{className:"author-card-avatar col-md-5 col-5",children:[Object(le.jsx)("img",{src:t.image?t.image:"./images/user.png",alt:"userprofileimage"}),Object(le.jsx)("br",{}),Object(le.jsx)(dt,{childToParent:function(c){var s;e((s={id:t._id,imageUrl:c},function(){var e=Object(b.a)(u.a.mark((function e(t,c){var r,a,n,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:P}),r=c(),a=r.userLogin.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,B.a.put("/api/users/image",s,n);case 6:i=e.sent,o=i.data,t({type:I,payload:o}),t({type:p,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),"Not authorized, token failed"===(l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(ne()),t({type:R,payload:l});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,c){return e.apply(this,arguments)}}()))},id:t._id})]}),Object(le.jsxs)("div",{className:"author-card-details col-md-7",children:[Object(le.jsx)("h5",{className:"author-card-name mb-2",children:Object(le.jsx)("strong",{children:t.name})}),Object(le.jsx)("span",{className:"author-card-position",children:Object(le.jsxs)(le.Fragment,{children:["Joined ",Be()(t.createdAt).format("LL")]})})]})]})]}),Object(le.jsx)("div",{className:"wizard pt-3 ",children:Object(le.jsx)("div",{className:"d-flex align-items-start",children:Object(le.jsx)("div",{className:"nav align-items-start flex-column col-12 nav-pills me-3 ",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:Object(le.jsx)("button",{className:"nav-link active",id:"v-pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#v-pills-home",type:"button",role:"tab","aria-controls":"v-pills-home","aria-selected":"true",children:"Profile Settings"})})})})]}),Object(le.jsxs)("div",{className:"tab-content col-lg-8 pb-5 pt-lg-0 pt-3",id:"v-pills-tabContent",children:[Object(le.jsx)("div",{className:"tab-pane fade show active",id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab",children:Object(le.jsx)(at,{})}),Object(le.jsx)("div",{className:"tab-pane fade",id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab",children:Object(le.jsx)(nt,{orders:n,loading:r,error:a})})]})]})})]})},ut=function(e){var t=e.history;window.scrollTo(0,0),Object(d.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var c=Object(s.useState)(""),r=Object(l.a)(c,2),a=r[0],n=r[1],i=Object(d.b)();return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsx)("div",{className:"container d-flex justify-content-center align-items-center login-center",children:Object(le.jsxs)("form",{className:"Login2 col-md-8 col-lg-4 col-11",onSubmit:function(e){var c;e.preventDefault(),i((c=a,function(e){e({type:tt,payload:c}),localStorage.setItem("paymentMethod",JSON.stringify(c))})),t.push("/placeorder")},children:[Object(le.jsx)("h6",{children:"SELECT PAYMENT METHOD"}),Object(le.jsxs)("div",{className:"payment-container",children:[Object(le.jsxs)("div",{className:"radio-container",children:[Object(le.jsx)("input",{className:"form-check-input",type:"radio",name:"paymentMethod",value:"POD (Pay On Delivery)",onChange:function(e){return n(e.target.value)}}),Object(le.jsx)("label",{className:"form-check-label",children:"POD (Pay on Delivery)"})]}),Object(le.jsxs)("div",{className:"radio-container",children:[Object(le.jsx)("input",{className:"form-check-input",type:"radio",name:"paymentMethod",value:"Razorpay",onChange:function(e){return n(e.target.value)}}),Object(le.jsx)("label",{className:"form-check-label",children:"Razorpay"})]})]}),Object(le.jsx)("button",{type:"submit",children:"Continue"})]})})]})},bt=function(e){var t=e.history;window.scrollTo(0,0);var c=Object(d.b)(),r=Object(d.c)((function(e){return e.cart})),a=Object(d.c)((function(e){return e.userLogin})).userInfo,n=function(e){return(Math.round(100*e)/100).toFixed(2)};r.itemsPrice=n(r.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),r.shippingPrice=n(r.itemsPrice>200?0:50),r.taxPrice=n(Number((.15*r.itemsPrice).toFixed(2))),r.totalPrice=(Number(r.itemsPrice)+Number(r.shippingPrice)+Number(r.taxPrice)).toFixed(2);var o=Object(d.c)((function(e){return e.orderCreate})),l=o.order,j=o.success,m=o.error;Object(s.useEffect)((function(){j&&(t.push("/order/".concat(l._id)),c({type:Y}))}),[t,c,j,l]);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsxs)("div",{className:"container",children:[Object(le.jsxs)("div",{className:"row  order-detail",children:[Object(le.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(le.jsxs)("div",{className:"row ",children:[Object(le.jsx)("div",{className:"col-md-4 center",children:Object(le.jsx)("div",{className:"alert-success order-box",children:Object(le.jsx)("i",{className:"fas fa-user"})})}),Object(le.jsxs)("div",{className:"col-md-8 center",children:[Object(le.jsx)("h5",{children:Object(le.jsx)("strong",{children:"Customer"})}),Object(le.jsx)("p",{children:a.name}),Object(le.jsx)("p",{children:a.email})]})]})}),Object(le.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-md-4 center",children:Object(le.jsx)("div",{className:"alert-success order-box",children:Object(le.jsx)("i",{className:"fas fa-truck-moving"})})}),Object(le.jsxs)("div",{className:"col-md-8 center",children:[Object(le.jsx)("h5",{children:Object(le.jsx)("strong",{children:"Order info"})}),Object(le.jsxs)("p",{children:["Shipping: ",r.shippingAddress.country]}),Object(le.jsxs)("p",{children:["Pay method: ",r.paymentMethod]})]})]})}),Object(le.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-md-4 center",children:Object(le.jsx)("div",{className:"alert-success order-box",children:Object(le.jsx)("i",{className:"fas fa-map-marker-alt"})})}),Object(le.jsxs)("div",{className:"col-md-8 center",children:[Object(le.jsx)("h5",{children:Object(le.jsx)("strong",{children:"Deliver to"})}),Object(le.jsxs)("p",{children:["Address: ",r.shippingAddress.city,","," ",r.shippingAddress.address,","," ",r.shippingAddress.postalCode]})]})]})})]}),Object(le.jsxs)("div",{className:"row order-products justify-content-between",children:[Object(le.jsx)("div",{className:"col-lg-8",children:0===r.cartItems.length?Object(le.jsx)(ke,{variant:"alert-info mt-5",children:"Your cart is empty"}):Object(le.jsx)(le.Fragment,{children:r.cartItems.map((function(e,t){return Object(le.jsxs)("div",{className:"order-product row",children:[Object(le.jsx)("div",{className:"col-md-3 col-6",children:Object(le.jsx)("img",{src:e.image,alt:e.name})}),Object(le.jsx)("div",{className:"col-md-5 col-6 d-flex align-items-center",children:Object(le.jsx)(i.b,{to:"/products/".concat(e.product),children:Object(le.jsx)("h6",{children:e.name})})}),Object(le.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6  d-flex align-items-center flex-column justify-content-center ",children:[Object(le.jsx)("h4",{children:"QUANTITY"}),Object(le.jsx)("h6",{children:e.qty})]}),Object(le.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6 align-items-end  d-flex flex-column justify-content-center ",children:[Object(le.jsx)("h4",{children:"SUBTOTAL"}),Object(le.jsxs)("h6",{children:["\u20b9",e.qty*e.price]})]})]},t)}))})}),Object(le.jsxs)("div",{className:"col-lg-3 d-flex align-items-end flex-column mt-5 subtotal-order",children:[Object(le.jsx)("table",{className:"table table-bordered",children:Object(le.jsxs)("tbody",{children:[Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{children:Object(le.jsx)("strong",{children:"Products"})}),Object(le.jsxs)("td",{children:["\u20b9",r.itemsPrice]})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{children:Object(le.jsx)("strong",{children:"Shipping"})}),Object(le.jsxs)("td",{children:["\u20b9",r.shippingPrice]})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{children:Object(le.jsx)("strong",{children:"Tax"})}),Object(le.jsxs)("td",{children:["\u20b9",r.taxPrice]})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{children:Object(le.jsx)("strong",{children:"Total"})}),Object(le.jsxs)("td",{children:["\u20b9",r.totalPrice]})]})]})}),0===r.cartItems.length?null:Object(le.jsx)("button",{type:"submit",onClick:function(){var e=r.cartItems.map((function(e){return{productId:e.product,quantity:e.qty}}));c(function(e){return function(){var t=Object(b.a)(u.a.mark((function t(c,s){var r,a,n,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:q}),r=s(),a=r.userLogin.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,B.a.post("/api/orders",e,n);case 6:i=t.sent,o=i.data,c({type:Q,payload:o}),c({type:$e,payload:o}),localStorage.removeItem("cartItems"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&c(ne()),c({type:z,payload:l});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,c){return t.apply(this,arguments)}}()}({orderItems:r.cartItems,shippingAddress:r.shippingAddress,paymentMethod:r.paymentMethod,itemsPrice:r.itemsPrice,shippingPrice:r.shippingPrice,taxPrice:r.taxPrice,totalPrice:r.totalPrice,productIds:e}))},children:"PLACE ORDER"}),m&&Object(le.jsx)("div",{className:"my-3 col-12",children:Object(le.jsx)(ke,{variant:"alert-danger",children:m})})]})]})]})]})},mt=c(60),pt=c(61),ht=c.n(pt),xt=c(62),Ot=(c(102),c(8));function ft(e){return new Promise((function(t){var c=document.createElement("script");c.src=e,c.onload=function(){t(!0)},c.onerror=function(){t(!1)},document.body.appendChild(c)}))}var gt="localhost"===document.domain,vt=function(e){e.match;window.scrollTo(0,0);var t,c=Object(s.useState)(!1),r=Object(l.a)(c,2),a=r[0],n=r[1],j=Object(o.i)().id,m=j,p=Object(d.b)(),h=Object(s.useRef)(),x=Object(d.c)((function(e){return e.orderDetails})),O=x.order,f=x.loading,g=x.error,v=Object(d.c)((function(e){return e.orderPay})),y=v.loading,N=v.success,w=Object(d.c)((function(e){return e.orderCancel})),E=(w.loading,w.success);if(!f){O.itemsPrice=(t=O.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2))}Object(s.useEffect)((function(){O&&O._id!==j&&p(it(m));var e=function(){var e=Object(b.a)(u.a.mark((function e(){var t,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("/api/config/paypal");case 2:t=e.sent,c=t.data,(s=document.createElement("script")).type="text/javascript",s.src="https://www.paypal.com/sdk/js?client-id=".concat(c),s.async=!0,s.onload=function(){n(!0)},document.body.appendChild(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!O||N||E?(p({type:ae}),p({type:Z}),p(it(m))):O.isPaid||(window.paypal?n(!0):e()),E&&console.log(E)}),[p,m,N,E,O]);var S=function(){var e=O.orderItems.map((function(e){return{productId:e.product,quantity:e.qty}}));p(function(e,t){return function(){var c=Object(b.a)(u.a.mark((function c(s,r){var a,n,i,o,l,d;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:ce}),a=r(),n=a.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(n.token)}},c.next=6,B.a.put("/api/orders/".concat(e._id,"/cancelled"),{productData:t},i);case 6:o=c.sent,l=o.data,s({type:se,payload:l}),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(0),"Not authorized, token failed"===(d=c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message)&&s(ne()),s({type:re,payload:d});case 16:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()}(O,e))};function C(){return(C=Object(b.a)(u.a.mark((function e(){var t,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 6:return e.next=8,B.a.post("/api/orders/razorpay/".concat(m));case 8:t=e.sent,c=t.data,s={key:gt?"rzp_test_V4GGLSjJ4QGPxv":"PRODUCTION_KEY",currency:c.currency,amount:c.amount,order_id:c.id,name:"Sk Home Industry",description:"Payment",image:"https://res.cloudinary.com/dqgo5axpw/image/upload/v1670993573/sk-home-industry/logo_wkscn3.png",handler:function(e){p(ot(m,e))},prefill:{name:c.userName,email:c.userEmail,phone_number:c.number}},new window.Razorpay(s).open();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsx)("div",{className:"container",children:f?Object(le.jsx)(Ie,{}):g?Object(le.jsx)(ke,{variant:"alert-danger",children:g}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsxs)("div",{children:[Object(le.jsxs)("div",{className:"row  order-detail order_box",children:[Object(le.jsx)(xt.a,{trigger:"Cancelled"!==O.status&&"Shipped"!==O.status?Object(le.jsx)("div",{onClick:function(){return S()},className:"cancle-button d-flex justify-content-center align-items-center",children:Object(le.jsx)("i",{className:"fas fa-times"})}):Object(le.jsx)(le.Fragment,{}),modal:!0,children:function(e){return Object(le.jsxs)("div",{className:"popupModal",children:[Object(le.jsx)("button",{className:"popupClose",onClick:e,children:"\xd7"}),Object(le.jsx)("div",{className:"popupHeader",children:" Alert! "}),Object(le.jsxs)("div",{className:"popupContent",children:[" ","Are you sure you want to cancel this order?"]}),Object(le.jsxs)("div",{className:"popupActions",children:[Object(le.jsx)("button",{className:"popupButton",onClick:function(){console.log("modal closed "),e()},children:"NO"}),Object(le.jsx)("button",{className:"popupButton",onClick:function(){return S()},children:"YES"})]})]})}}),Object(le.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-md-4 center",children:Object(le.jsx)("div",{className:"alert-success order-box",children:Object(le.jsx)("i",{className:"fas fa-user"})})}),Object(le.jsxs)("div",{className:"col-md-8 center",children:[Object(le.jsx)("h5",{children:Object(le.jsx)("strong",{children:"Customer"})}),Object(le.jsx)("p",{children:O.user.name}),Object(le.jsx)("p",{children:Object(le.jsx)("a",{href:"mailto:".concat(O.user.email),children:O.user.email})})]})]})}),Object(le.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-md-4 center",children:Object(le.jsx)("div",{className:"alert-success order-box",children:Object(le.jsx)("i",{className:"fas fa-truck-moving"})})}),Object(le.jsxs)("div",{className:"col-md-8 center",children:[Object(le.jsx)("h5",{children:Object(le.jsx)("strong",{children:"Order info"})}),Object(le.jsxs)("p",{children:["Shipping: ",O.shippingAddress.country]}),Object(le.jsxs)("p",{children:["Pay method: ",O.paymentMethod]}),"POD (Pay On Delivery)"!==O.paymentMethod?O.isPaid?Object(le.jsx)("div",{className:"bg-info p-2 col-12",children:Object(le.jsxs)("p",{className:"text-white text-center text-sm-start",children:["Paid on ",Be()(O.paidAt).calendar()]})}):Object(le.jsx)("div",{className:"bg-danger p-2 col-12",children:Object(le.jsx)("p",{className:"text-white text-center text-sm-start",children:"Not Paid"})}):Object(le.jsx)(le.Fragment,{})]})]})}),Object(le.jsx)("div",{className:"col-lg-4 col-sm-4 mb-lg-4 mb-5 mb-sm-0",children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-md-4 center",children:Object(le.jsx)("div",{className:"alert-success order-box",children:Object(le.jsx)("i",{className:"fas fa-map-marker-alt"})})}),Object(le.jsxs)("div",{className:"col-md-8 center",children:[Object(le.jsx)("h5",{children:Object(le.jsx)("strong",{children:"Deliver to"})}),Object(le.jsxs)("p",{children:["Address: ",O.shippingAddress.city,","," ",O.shippingAddress.address,","," ",O.shippingAddress.postalCode]}),O.isDelivered?Object(le.jsx)("div",{className:"bg-info p-2 col-12",children:Object(le.jsxs)("p",{className:"text-white text-center text-sm-start",children:["Delivered on ",Be()(O.deliveredAt).calendar()]})}):Object(le.jsx)("div",{className:"bg-info p-2 col-12",children:Object(le.jsx)("p",{className:"text-white text-center text-sm-start",children:O.status})})]})]})})]}),Object(le.jsxs)("div",{className:"row order-products justify-content-between",children:[Object(le.jsx)("div",{className:"col-lg-8",children:0===O.orderItems.length?Object(le.jsx)(ke,{variant:"alert-info mt-5",children:"Your order is empty"}):Object(le.jsx)(le.Fragment,{children:O.orderItems.map((function(e,t){return Object(le.jsxs)("div",{className:"order-product row",children:[Object(le.jsx)("div",{className:"col-md-3 col-6",children:Object(le.jsx)("img",{src:e.image,alt:e.name})}),Object(le.jsx)("div",{className:"col-md-5 col-6 d-flex align-items-center",children:Object(le.jsx)(i.b,{to:"/products/".concat(e.product),children:Object(le.jsx)("h6",{children:e.name})})}),Object(le.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6  d-flex align-items-center flex-column justify-content-center ",children:[Object(le.jsx)("h4",{children:"QUANTITY"}),Object(le.jsx)("h6",{children:e.qty})]}),Object(le.jsxs)("div",{className:"mt-3 mt-md-0 col-md-2 col-6 align-items-end  d-flex flex-column justify-content-center ",children:[Object(le.jsx)("h4",{children:"SUBTOTAL"}),Object(le.jsxs)("h6",{children:["\u20b9",e.qty*e.price]})]})]},t)}))})}),Object(le.jsxs)("div",{className:"col-lg-3 d-flex align-items-end flex-column mt-5 subtotal-order",children:[Object(le.jsx)("table",{className:"table table-bordered",children:Object(le.jsxs)("tbody",{children:[Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{children:Object(le.jsx)("strong",{children:"Products"})}),Object(le.jsxs)("td",{children:["\u20b9",O.itemsPrice]})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{children:Object(le.jsx)("strong",{children:"Shipping"})}),Object(le.jsxs)("td",{children:["\u20b9",O.shippingPrice]})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{children:Object(le.jsx)("strong",{children:"Tax"})}),Object(le.jsxs)("td",{children:["\u20b9",O.taxPrice]})]}),Object(le.jsxs)("tr",{children:[Object(le.jsx)("td",{children:Object(le.jsx)("strong",{children:"Total"})}),Object(le.jsxs)("td",{children:["\u20b9",O.totalPrice]})]})]})}),"POD (Pay On Delivery)"!==O.paymentMethod&&"Cancelled"!==O.status?O.isPaid?Object(le.jsx)(le.Fragment,{}):"PayPal"===O.paymentMethod?Object(le.jsxs)("div",{className:"col-12",children:[y&&Object(le.jsx)(Ie,{}),a?Object(le.jsx)(mt.PayPalButton,{amount:O.totalPrice,onSuccess:function(e){p(ot(m,e))}}):Object(le.jsx)(Ie,{})]}):Object(le.jsx)("div",{className:"col-12",children:Object(le.jsx)("button",{onClick:function(){return C.apply(this,arguments)},children:"Pay With Razorpay"})}):Object(le.jsx)(le.Fragment,{}),Object(le.jsx)("hr",{}),Object(le.jsx)(ht.a,{trigger:function(){return Object(le.jsxs)("button",{children:[Object(le.jsx)(Ot.e,{fas:!0,icon:"print",color:"primary",className:"me-1"}),"Print Receipt"]})},content:function(){return h.current},documentTitle:"Order Receipt"})]})]})]}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{class:"print-source",ref:h,children:Object(le.jsx)(Ot.d,{className:"py-5",children:Object(le.jsx)(Ot.a,{className:"p-4",children:Object(le.jsxs)(Ot.b,{children:[Object(le.jsx)(Ot.d,{className:"mb-2 mt-3",children:Object(le.jsx)(Ot.f,{className:"d-flex align-items-baseline",children:Object(le.jsx)(Ot.c,{xl:"9",children:Object(le.jsxs)("p",{style:{color:"#7e8d9f",fontSize:"20px"},children:["Invoice > > ",Object(le.jsxs)("strong",{children:["ID: ",O._id]})]})})})}),Object(le.jsx)(Ot.d,{children:Object(le.jsxs)(Ot.c,{md:"12",className:"text-center",children:[Object(le.jsx)(Ot.e,{fab:!0,icon:"mdb",size:"4x",className:"ms-0 ",style:{color:"#5d9fc5"}}),Object(le.jsx)("img",{src:"https://res.cloudinary.com/dqgo5axpw/image/upload/v1677222431/sk-home-industry/logo_2_tj7snx.png",alt:"Sk Home Industry",height:"100"}),Object(le.jsx)("p",{className:"pt-0",children:"Sk Home Industry"})]})}),Object(le.jsxs)(Ot.f,{children:[Object(le.jsx)(Ot.c,{xl:"8",children:Object(le.jsxs)(Ot.j,{listUnStyled:!0,children:[Object(le.jsxs)("li",{className:"text-muted",children:["To: ",Object(le.jsx)("span",{style:{color:"#5d9fc5"},children:O.user.name})]}),Object(le.jsx)("li",{className:"text-muted",children:O.shippingAddress.address}),Object(le.jsxs)("li",{className:"text-muted",children:[O.shippingAddress.city,", ",O.shippingAddress.country]}),Object(le.jsx)("li",{className:"text-muted",children:O.shippingAddress.postalCode}),Object(le.jsxs)("li",{className:"text-muted",children:[Object(le.jsx)(Ot.e,{fas:!0,icon:"phone-alt"})," ",O.user.number]})]})}),Object(le.jsxs)(Ot.c,{xl:"4",children:[Object(le.jsx)("p",{className:"text-muted",children:"Invoice"}),Object(le.jsxs)(Ot.j,{listUnStyled:!0,children:[Object(le.jsxs)("li",{className:"text-muted",children:[Object(le.jsx)(Ot.e,{fas:!0,icon:"circle",style:{color:"#84B0CA"}}),Object(le.jsx)("span",{className:"fw-bold ms-1",children:"ID: "}),O._id]}),Object(le.jsxs)("li",{className:"text-muted",children:[Object(le.jsx)(Ot.e,{fas:!0,icon:"circle",style:{color:"#84B0CA"}}),Object(le.jsx)("span",{className:"fw-bold ms-1",children:"Creation Date: "}),O.createdAt]}),Object(le.jsxs)("li",{className:"text-muted",children:[Object(le.jsx)(Ot.e,{fas:!0,icon:"circle",style:{color:"#84B0CA"}}),Object(le.jsx)("span",{className:"fw-bold ms-1",children:"Status:"}),"Cancelled"!==O.status&&!O.isPaid&&Object(le.jsx)("div",{className:"ms-1",style:{background:"#ffd11a",color:"black",borderRadius:"10px",display:"inline-block",width:"90px",padding:"5px 5px 5px 15px"},children:Object(le.jsx)("span",{className:" fw-bold",style:{color:"black"},children:"Unpaid"})}),"Cancelled"!==O.status&&O.isPaid&&Object(le.jsx)("div",{className:"ms-1",style:{background:"lightgreen",color:"black",borderRadius:"10px",display:"inline-block",width:"80px",padding:"5px 5px 5px 20px"},children:Object(le.jsx)("span",{className:" fw-bold",style:{color:"black"},children:"Paid"})}),"Cancelled"===O.status&&Object(le.jsx)("div",{className:"ms-1",style:{background:"red",borderRadius:"10px",display:"inline-block",width:"190px",padding:"5px 5px 5px 20px"},children:Object(le.jsxs)("span",{className:" fw-bold",style:{color:"white"},children:["Cancelled & ",O.isPaid?"Paid":"Unpaid"]})})]}),O.isPaid&&Object(le.jsxs)("li",{className:"text-muted",children:[Object(le.jsx)(Ot.e,{fas:!0,icon:"circle",style:{color:"#84B0CA"}}),Object(le.jsx)("span",{className:"fw-bold ms-1",children:"Payment Id: "}),O.paymentResult.id]})]})]})]}),Object(le.jsx)(Ot.f,{className:"my-2 mx-1 justify-content-center",children:Object(le.jsxs)(Ot.g,{striped:!0,borderless:!0,children:[Object(le.jsx)(Ot.i,{className:"text-white",style:{backgroundColor:"#84B0CA"},children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{scope:"col",children:"#"}),Object(le.jsx)("th",{scope:"col",children:"Image"}),Object(le.jsx)("th",{scope:"col",children:"Description"}),Object(le.jsx)("th",{scope:"col",children:"Qty"}),Object(le.jsx)("th",{scope:"col",children:"Unit Price"}),Object(le.jsx)("th",{scope:"col",children:"Amount"})]})}),Object(le.jsx)(Ot.h,{children:O.orderItems.map((function(e,t){return Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{scope:"row",children:t+1}),Object(le.jsx)("td",{children:Object(le.jsx)("img",{src:e.image,alt:"Product Image",height:"100"})}),Object(le.jsx)("td",{children:e.name}),Object(le.jsx)("td",{children:e.qty}),Object(le.jsxs)("td",{children:["\u20b9",e.price]}),Object(le.jsxs)("td",{children:["\u20b9",e.price*e.qty]})]})}))})]})}),Object(le.jsxs)(Ot.f,{children:[Object(le.jsx)(Ot.c,{xl:"8"}),Object(le.jsxs)(Ot.c,{xl:"3",children:[Object(le.jsxs)(Ot.j,{listUnStyled:!0,children:[Object(le.jsxs)("li",{className:"text-muted ms-2 mt-2",children:[Object(le.jsx)("span",{class:"text-black me-3",children:"Subtotal"}),"\u20b9",O.itemsPrice]}),Object(le.jsxs)("li",{className:"text-muted ms-2 mt-2",children:[Object(le.jsx)("span",{class:"text-black me-3",children:"Tax(15%)"}),"\u20b9",O.taxPrice]}),Object(le.jsxs)("li",{className:"text-muted ms-2 mt-2",children:[Object(le.jsx)("span",{class:"text-black me-3",children:"Shipping"}),"\u20b9",O.shippingPrice]})]}),Object(le.jsxs)("p",{className:"text-black float-start",children:[Object(le.jsx)("span",{className:"text-black me-3",style:{fontSize:"20px"},children:" Total"}),Object(le.jsxs)("span",{style:{fontSize:"20px"},children:["\u20b9",O.totalPrice]})]})]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)(Ot.f,{children:Object(le.jsx)(Ot.c,{xl:"10",children:Object(le.jsx)("p",{children:"Thank you for your purchase"})})})]})})})})]})})]})},yt=function(){return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsx)("div",{className:"container my-5",children:Object(le.jsxs)("div",{className:"row justify-content-center align-items-center",children:[Object(le.jsx)("h4",{className:"text-center mb-2 mb-sm-5",children:"Page Not Found"}),Object(le.jsx)("img",{style:{width:"100%",height:"300px",objectFit:"contain"},src:"/images/not-found.png",alt:"Not-found"}),Object(le.jsx)("button",{className:"col-md-3 col-sm-6 col-12 btn btn-success mt-5",children:Object(le.jsx)(i.b,{to:"/",className:"text-white text-decoration-none",children:"Home page"})})]})})]})},Nt=c(7),wt=c(66),Et=["component"];var St=function(e){var t=e.component,c=Object(wt.a)(e,Et);return Object(le.jsx)(o.b,Object(Nt.a)(Object(Nt.a)({},c),{},{component:function(e){return window.localStorage.getItem("userInfo")?Object(le.jsx)(t,Object(Nt.a)({},e)):Object(le.jsx)(o.a,{to:"/login"})}}))},Ct=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(o.i)();return Object(s.useEffect)((function(){var e=function(){var e=Object(b.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/api/users/".concat(a.id,"/verify/").concat(a.token),e.next=4,B.a.get(t);case 4:c=e.sent,c.data,r(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,c]),Object(le.jsx)(le.Fragment,{children:c?Object(le.jsxs)("div",{className:"emailContainer",children:[Object(le.jsx)("img",{src:"data:image/png;base64,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",alt:"success_img",className:"successImage"}),Object(le.jsx)("h1",{children:"Email Verified Successfully"}),Object(le.jsx)(i.b,{to:"/login",children:Object(le.jsx)("button",{className:"greenButton",children:"Login"})})]}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(yt,{})})})},At=function(){window.scrollTo(0,0);var e=Object(d.b)(),t=Object(d.c)((function(e){return e.orderListMy})),c=t.loading,r=t.error,a=t.orders;return Object(s.useEffect)((function(){e(lt()),e(ie("profile"))}),[e]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ue,{}),Object(le.jsx)("div",{className:"ordersScreenContainer",children:Object(le.jsx)("div",{className:" d-flex justify-content-center align-items-center flex-column",children:c?Object(le.jsx)(Ie,{}):r?Object(le.jsx)(ke,{variant:"alert-danger",children:r}):Object(le.jsx)(le.Fragment,{children:0===a.length?Object(le.jsxs)("div",{className:"col-12 alert alert-info text-center mt-3",children:["No Orders",Object(le.jsx)(i.b,{className:"btn btn-success mx-2 px-3 py-2",to:"/",style:{fontSize:"12px"},children:"START SHOPPING"})]}):Object(le.jsx)("div",{className:"table-responsive",children:Object(le.jsxs)("table",{className:"table",children:[Object(le.jsx)("thead",{children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"ID"}),Object(le.jsx)("th",{children:"STATUS"}),Object(le.jsx)("th",{children:"PAID"}),Object(le.jsx)("th",{children:"PAYMENT METHOD"}),Object(le.jsx)("th",{children:"DATE"}),Object(le.jsx)("th",{children:"TOTAL"})]})}),Object(le.jsx)("tbody",{children:a.map((function(e){return Object(le.jsxs)("tr",{className:"".concat("POD (Pay On Delivery)"!==e.paymentMethod?e.isPaid?"alert-success":"alert-danger":"alert-success"),children:[Object(le.jsx)("td",{children:Object(le.jsx)("a",{href:"/order/".concat(e._id),className:"link",children:e._id})}),Object(le.jsx)("td",{children:e.status}),Object(le.jsx)("td",{children:"POD (Pay On Delivery)"!==e.paymentMethod?e.isPaid?Object(le.jsx)(le.Fragment,{children:"Paid"}):Object(le.jsx)(le.Fragment,{children:"Not Paid"}):Object(le.jsx)(le.Fragment,{children:"N/A"})}),Object(le.jsx)("td",{children:e.paymentMethod}),Object(le.jsx)("td",{children:e.isPaid?Be()(e.paidAt).calendar():Be()(e.createdAt).calendar()}),Object(le.jsxs)("td",{children:["\u20b9",e.totalPrice]})]},e._id)}))})]})})})})})]})},Pt=function(){var e=Object(s.useState)("4px solid white"),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(s.useState)("4px solid white"),n=Object(l.a)(a,2),j=n[0],m=n[1],p={color:"#c03f10",backgroundColor:"white",display:"inline-block",borderBottom:j,width:"100%",height:"50px",transition:"all 0.4s"},h={color:"#c03f10",backgroundColor:"white",display:"inline-block",borderBottom:c,width:"100%",height:"50px",transition:"all 0.4s"},x=Object(Qe.a)({initialValues:{email:""},validationSchema:Ge,onSubmit:function(e){P(e)}}),O=x.values,f=x.errors,g=x.handleBlur,v=x.handleChange,y=x.handleSubmit,N=Object(o.h)().pathname,w=Object(d.b)(),E=Object(d.c)((function(e){return e.userPasswordResetMail})),S=E.error,C=E.loading,A=E.userInfo;Object(s.useEffect)((function(){var e=setTimeout((function(){A&&A.message&&w({type:U})}),5e3);return function(){return clearTimeout(e)}}),[A,S]);var P=function(e){var t=e.email;console.log(t),w(function(e){return function(){var t=Object(b.a)(u.a.mark((function t(c){var s,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:k}),s={headers:{"Content-Type":"application/json"}},t.next=5,B.a.post("/api/users/resetPassword",{email:e},s);case 5:r=t.sent,a=r.data,c({type:T,payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:D,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"container d-flex flex-column justify-content-center align-items-center login-center",children:[S&&Object(le.jsx)(ke,{variant:"alert-danger",children:S}),A&&A.message&&Object(le.jsx)(ke,{variant:"alert-success",children:A.message}),C&&Object(le.jsx)(Ie,{}),Object(le.jsxs)("form",{className:"Login col-md-8 col-lg-4 col-11",children:[Object(le.jsxs)("div",{className:"d-flex flex-row",children:[Object(le.jsx)(i.b,{style:p,onMouseOver:function(){r("2px solid white"),"/login"===N?r("2px solid #FF7F50"):m("2px solid white")},to:"/register",children:"Register"}),Object(le.jsx)(i.b,{style:h,onMouseOver:function(){m("2px solid white"),"/login"===N?r("2px solid #FF7F50"):m("2px solid white")},to:"/login",children:"Login"})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("h1",{children:"Forgot Password"}),Object(le.jsx)("br",{}),Object(le.jsx)("h5",{children:"Enter Your Email"}),Object(le.jsx)("input",{type:"email",placeholder:"Email",id:"email",name:"email",value:O.email,onChange:v,onBlur:g}),Object(le.jsx)("p",{className:"from-error",children:f.email})]}),Object(le.jsx)("button",{type:"button",onClick:y,children:"Continue"})]})]})})},It=function(e){var t=e.location,c=e.history,r=Object(s.useState)("4px solid white"),a=Object(l.a)(r,2),n=a[0],j=a[1],m=Object(s.useState)("4px solid white"),p=Object(l.a)(m,2),h=p[0],x=p[1],O={color:"#c03f10",backgroundColor:"white",display:"inline-block",borderBottom:h,width:"100%",height:"50px",transition:"all 0.4s"},f={color:"#c03f10",backgroundColor:"white",display:"inline-block",borderBottom:n,width:"100%",height:"50px",transition:"all 0.4s"},g=Object(Qe.a)({initialValues:{password:"",confirmPassword:""},validationSchema:Ve,onSubmit:function(e){z(e,T.id)}}),v=g.values,y=g.errors,N=g.handleBlur,w=g.handleChange,E=g.handleSubmit;window.scrollTo(0,0);var S=Object(o.h)().pathname,C=Object(d.b)(),A=t.search?t.search.split("=")[1]:"/",P=Object(s.useState)(!1),I=Object(l.a)(P,2),R=I[0],k=I[1],T=Object(o.i)(),D=Object(d.c)((function(e){return e.userPasswordReset})),U=D.loading,M=D.success,q=D.userInfo,Q=D.error;Object(s.useEffect)((function(){q&&console.log(q);var e=function(){var e=Object(b.a)(u.a.mark((function e(){var t,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/api/users/".concat(T.id,"/resetPassword/").concat(T.token),e.next=4,B.a.get(t);case 4:c=e.sent,s=c.data,console.log(s),k(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),k(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[q,c,A,R,T,M]);var z=function(e,t){var c;C((c={password:e,id:t},function(){var e=Object(b.a)(u.a.mark((function e(t,s){var r,a,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_}),r={headers:{"Content-Type":"application/json"}},console.log("This is Inside action of frontend"),console.log(c.id),console.log(c.password.password),e.next=8,B.a.put("/api/users/passwordReset/".concat(c.id),c,r);case 8:a=e.sent,n=a.data,t({type:L,payload:n}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),"Not authorized, token failed"===(i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(ne()),t({type:F,payload:i});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,c){return e.apply(this,arguments)}}()))};return Object(le.jsx)(le.Fragment,{children:R?M?Object(le.jsxs)("div",{className:"emailContainer",children:[Object(le.jsx)("img",{src:"https://res.cloudinary.com/dqgo5axpw/image/upload/v1677091065/sk-home-industry/success_uclnvv.png",alt:"success_img",className:"successImage"}),Object(le.jsx)("h1",{children:"Password Reset Successfully"}),Object(le.jsx)(i.b,{to:"/login",children:Object(le.jsx)("button",{className:"greenButton",children:"Login"})})]}):Object(le.jsxs)("div",{className:"container d-flex flex-column justify-content-center align-items-center login-center",children:[Q&&Object(le.jsx)(ke,{variant:"alert-danger",children:Q}),U&&Object(le.jsx)(Ie,{}),Object(le.jsxs)("form",{className:"Login col-md-8 col-lg-4 col-11",children:[Object(le.jsxs)("div",{className:"d-flex flex-row",children:[Object(le.jsx)(i.b,{style:O,onMouseOver:function(){j("2px solid white"),"/login"===S?j("2px solid #FF7F50"):x("2px solid white")},to:A?"/register?redirect=".concat(A):"/register",children:"Register"}),Object(le.jsx)(i.b,{style:f,onMouseOver:function(){x("2px solid white"),"/login"===S?j("2px solid #FF7F50"):x("2px solid white")},to:A?"/login?redirect=".concat(A):"/login",children:"Login"})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("h1",{children:"New Password"}),Object(le.jsx)("input",{type:"password",placeholder:"Create New Password",id:"password",name:"password",value:v.password,onChange:w,onBlur:N}),Object(le.jsx)("p",{className:"from-error",children:y.password})]}),Object(le.jsxs)("div",{children:[Object(le.jsx)("input",{type:"password",placeholder:"Confirm New Password",id:"confirmPassword",name:"confirmPassword",value:v.confirmPassword,onChange:w,onBlur:N}),Object(le.jsx)("p",{className:"from-error",children:y.confirmPassword})]}),Object(le.jsx)("button",{type:"button",onClick:E,children:"Change Password"})]})]}):Object(le.jsx)(yt,{})})},Rt=function(){return Object(le.jsx)(i.a,{children:Object(le.jsxs)(o.d,{children:[Object(le.jsx)(o.b,{path:"/",component:Fe,exact:!0}),Object(le.jsx)(o.b,{path:"/search/:keyword",component:Fe,exact:!0}),Object(le.jsx)(o.b,{path:"/page/:pagenumber",component:Fe,exact:!0}),Object(le.jsx)(o.b,{path:"/search/:keyword/page/:pageNumber",component:Fe,exact:!0}),Object(le.jsx)(o.b,{path:"/products/:id",component:qe}),Object(le.jsx)(o.b,{path:"/login",component:He}),Object(le.jsx)(o.b,{path:"/register",component:Ke}),Object(le.jsx)(o.b,{path:"/users/:id/verify/:token",component:Ct}),Object(le.jsx)(o.b,{path:"/users/:id/resetPassword/:token",component:It}),Object(le.jsx)(o.b,{path:"/resetPasswordEmail",component:Pt}),Object(le.jsx)(St,{path:"/profile",component:jt}),Object(le.jsx)(o.b,{path:"/cart/:id?",component:st}),Object(le.jsx)(St,{path:"/shipping",component:rt}),Object(le.jsx)(St,{path:"/orders",component:At}),Object(le.jsx)(St,{path:"/payment",component:ut}),Object(le.jsx)(St,{path:"/placeorder",component:bt}),Object(le.jsx)(St,{path:"/order/:id",component:vt}),Object(le.jsx)(o.b,{path:"*",component:yt})]})})},kt=c(34),Tt=c(65),Dt=c(64),Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case C:return{loading:!1,success:!0,userInfo:t.payload};case A:return{loading:!1,error:t.payload};default:return e}},_t=Object(kt.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{loading:!0,products:[]};case xe:return{loading:!1,pages:t.payload.pages,page:t.payload.page,products:t.payload.products};case Oe:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(Nt.a)(Object(Nt.a)({},e),{},{loading:!0});case ge:return{loading:!1,product:t.payload};case ve:return{loading:!1,error:t.payload};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return{loading:!0};case Ne:return{loading:!1,success:!0};case we:return{loading:!1,error:t.payload};case Ee:return{};default:return e}},productReviewDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return{loading:!0};case Ce:return{loading:!1,success:!0};case Ae:return{loading:!1,error:t.payload};case Pe:return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:var c=t.payload,s=e.cartItems.find((function(e){return e.product===c.product}));return s?Object(Nt.a)(Object(Nt.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===s.product?c:e}))}):Object(Nt.a)(Object(Nt.a)({},e),{},{cartItems:[].concat(Object(me.a)(e.cartItems),[c])});case Xe:return Object(Nt.a)(Object(Nt.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case et:return Object(Nt.a)(Object(Nt.a)({},e),{},{shippingAddress:t.payload});case tt:return Object(Nt.a)(Object(Nt.a)({},e),{},{paymentMethod:t.payload});case $e:return Object(Nt.a)(Object(Nt.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case p:return{loading:!1,userInfo:t.payload};case h:return{loading:!1,error:t.payload};case x:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case f:return{loading:!1,userInfo:t.payload};case g:return{loading:!1,error:t.payload};case v:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(Nt.a)(Object(Nt.a)({},e),{},{loading:!0});case N:return{loading:!1,user:t.payload};case w:return{loading:!1,error:t.payload};case E:return{user:{}};default:return e}},userUpdateProfile:Ut,userUpdateImage:Ut,userPasswordResetMail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case T:return{loading:!1,userInfo:t.payload};case D:return{loading:!1,error:t.payload};case U:return{};default:return e}},userPasswordReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case L:return{loading:!1,success:!0,userInfo:t.payload};case F:return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{loading:!0};case Q:return{loading:!1,success:!0,order:t.payload};case z:return{loading:!1,error:t.payload};case Y:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(Nt.a)(Object(Nt.a)({},e),{},{loading:!0});case G:return{loading:!1,order:t.payload};case V:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case H:return{loading:!1,success:!0};case K:return{loading:!1,error:t.payload};case Z:return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case $:return{loading:!1,orders:t.payload};case ee:return{loading:!1,error:t.payload};case te:return{orders:[]};default:return e}},orderCancel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(Nt.a)(Object(Nt.a)({},e),{},{loading:!0});case se:return Object(Nt.a)(Object(Nt.a)({},e),{},{loading:!1,success:!0});case re:return Object(Nt.a)(Object(Nt.a)({},e),{},{loading:!1,error:t.payload});case ae:return{};default:return e}}}),Lt=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Ft=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Mt={cart:{cartItems:Lt,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Ft}},Bt=[Tt.a],qt=Object(kt.createStore)(_t,Mt,Object(Dt.composeWithDevTools)(kt.applyMiddleware.apply(void 0,Bt)));n.a.render(Object(le.jsx)(d.a,{store:qt,children:Object(le.jsx)(Rt,{})}),document.getElementById("root"))},43:function(e,t,c){},74:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.928cf5d5.chunk.js.map